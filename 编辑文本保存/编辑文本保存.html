<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>编辑文本保存</title>
	<style>
	.clearfix:after { }
	body { background:-webkit-linear-gradient(0deg,#b8b4c5,#c4e2f3);}
	.box { width:440px; border-radius:10px; background:#371e23; margin:100px auto;}
	.top { height:76px; background:url(./bg1.png) no-repeat;  }
	.common { height:36px; width:395px; padding:22px; border-top:1px dashed rgba(255,255,255,0.5);}
	.up { }
	.up span { float:left; height:36px; line-height:36px; color:#fff; font-size:20px; margin-right:12px; max-width:330px; }
	.up a { float:left; height:24px; width:24px; margin-top:6px;background:url(./c.png) no-repeat; }
	.down { display:none;}
	.down input:nth-child(1){ width:253px; height:34px; border:1px solid #e15671; background:transparent; outline:none; padding:0;  color:#fff; font-size:18px;}
	.down input:nth-child(2),.down input:nth-child(3){ width:58px; height:34px; border:1px solid #e15671; border-radius:5px;background:transparent; color:#e15671; font-size:18px;  outline:none; cursor:pointer;}
	.down input:nth-child(2) { background:#e15671; color:#fff;}
	.bot { height:77px; }
	</style>
</head>
<body>
	<div class="box">
		<div class="top"></div>
		<div class="common mid1">
			<div class="up">
				<span>妙味实体课程</span>
				<a href="javascript:;" class="rewrit"></a>
			</div>
			<div class="down">
				<input type="text" value="" />
				<input type="button" value="保存" />
				<input type="button" value="取消" />
			</div>
		</div>
		<div class="common mid2">
			<div class="up">
				<span>妙味实体课程</span>
				<a href="javascript:;" class="rewrit"></a>
			</div>
			<div class="down">
				<input type="text" value="" />
				<input type="button" value="保存" />
				<input type="button" value="取消" />
			</div>
		</div>
		<div class="common mid3">
			<div class="up">
				<span>妙味实体课程</span>
				<a href="javascript:;" class="rewrit"></a>
			</div>
			<div class="down">
				<input type="text" value="" />
				<input type="button" value="保存" />
				<input type="button" value="取消" />
			</div>
		</div>
		<div class="common mid4">
			<div class="up">
				<span>妙味实体课程</span>
				<a href="javascript:;" class="rewrit"></a>
			</div>
			<div class="down">
				<input type="text" value="" />
				<input type="button" value="保存" />
				<input type="button" value="取消" />
			</div>
		</div>
		<div class="common mid5">
			<div class="up">
				<span>妙味实体课程</span>
				<a href="javascript:;" class="rewrit"></a>
			</div>
			<div class="down">
				<input type="text" value="" />
				<input type="button" value="保存" />
				<input type="button" value="取消" />
			</div>
		</div>
	</div>
	<script>
	/*var rewrits = document.querySelectorAll('.rewrit');
	var spans = document.querySelectorAll('.up span');
	var ups = document.querySelectorAll('.up');
	var downs = document.querySelectorAll('.down');
	var inputs = document.querySelectorAll('.down input');*/
	/*console.log(rewrits.length)
	console.log(spans.length)
	console.log(ups.length)
	console.log(downs.length)
	console.log(inputs.length)*/
	var commons = document.querySelectorAll('.common')//获取所有的列表
	/*fn('.mid1');
	fn('.mid2');*/
	for( var i=1; i<=commons.length; i++ ){//多次重复调用。
		fn('.mid'+i+'')
	}
	function fn(classname){//每一次调用都重新获取元素。
		var up = document.querySelector(classname +' .up');//.mid .up
		var down = document.querySelector(classname +' .down');//.mid .down
		var span = up.querySelector('span');
		var rewrit = up.querySelector('.rewrit');
		var inputs = down.querySelectorAll('input');
		rewrit.onclick = function(){//编辑
			up.style.display = 'none';
			down.style.display = 'block';
			inputs[0].value = span.innerHTML;
			inputs[0].select();
		}
		inputs[1].onclick = function(){//保存
			down.style.display = 'none';
			up.style.display = 'block';
			span.innerHTML = inputs[0].value;
		}
		inputs[2].onclick = function(){//取消 什么都不做直接返回之前的状态
			down.style.display = 'none';
			up.style.display = 'block';
		}
	}

	/*rewrits[0].onclick = function(){
		ups[0].style.display = 'none';
		downs[0].style.display = 'block';
		inputs[0].value = spans[0].innerHTML;
		inputs[0].select();
	}
	inputs[1].onclick = function(){
		downs[0].style.display = 'none';
		ups[0].style.display = 'block';
		spans[0].innerHTML = inputs[0].value;
	}
	inputs[2].onclick = function(){
		downs[0].style.display = 'none';
		ups[0].style.display = 'block';
	}

	rewrits[1].onclick = function(){
		ups[1].style.display = 'none';
		downs[1].style.display = 'block';
		inputs[3].value = spans[1].innerHTML;
		inputs[3].select();
	}
	inputs[4].onclick = function(){
		downs[1].style.display = 'none';
		ups[1].style.display = 'block';
		spans[1].innerHTML = inputs[3].value;
	}
	inputs[5].onclick = function(){
		downs[1].style.display = 'none';
		ups[1].style.display = 'block';
	}*/
	</script>
</body>
</html>